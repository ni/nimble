module.exports = {
    extends: '../../../.eslintrc.js',
    ignorePatterns: [
        '!**/*',
        // Files temporarily copied to project directory during pack
        'bundles/**',
        'directives/**',
        'esm2015/**',
        'fesm2015/**',
        'ni-nimble-angular.d.ts',
        'public-api.d.ts'
    ],
    plugins: ['jsdoc'],
    overrides: [
        {
            files: [
                '*.ts'
            ],
            parserOptions: {
                project: [
                    './tsconfig.lib.json',
                    './tsconfig.spec.json'
                ],
                tsconfigRootDir: __dirname,
                createDefaultProgram: true
            },
            rules: {
                // Require non-empty JSDoc comment on classes
                'jsdoc/require-jsdoc': [
                    'error',
                    {
                        publicOnly: false,
                        require: {
                            ClassDeclaration: true,
                            FunctionDeclaration: false
                        }
                    }
                ],
                'jsdoc/require-description': [
                    'error',
                    { contexts: ['ClassDeclaration'] }
                ],
            }
        },
        {
            // Don't require class docs on modules (they're trivial) or tests (not public API)
            files: [
                '*.module.ts', '*.spec.ts'
            ],
            rules: {
                'jsdoc/require-jsdoc': 'off',
                'jsdoc/require-description': 'off'
            }
        },
        {
            // disable failing rule in one autogenerated file
            files: [
                'src/test.ts'
            ],
            rules: {
                'import/no-extraneous-dependencies': 'off'
            }
        },
        {
            files: [
                '*.html'
            ],
            rules: {}
        },
        {
            files: [
                'build/*.js'
            ],
            rules: {
                // Logging in build scripts is useful
                'no-console': 'off',
                // Okay to use dev dependencies in build scripts
                'import/no-extraneous-dependencies': 'off'
            }
        }
    ]
};
