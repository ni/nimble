import { Controls, Canvas, Meta, Title } from '@storybook/blocks';
import * as menuButtonColumnStories from './table-column-menu-button.stories';
import ComponentApisLink from '../../../docs/component-apis-link.mdx';
import { tableColumnMenuButtonTag } from '../../../../../nimble-components/src/table-column/menu-button';

<Meta of={menuButtonColumnStories} />
<Title of={menuButtonColumnStories} />

The <Tag name={tableColumnMenuButtonTag}/> renders string values as the content
of a menu button. A client can specify a slot name where they have provided the
menu that is associated with the button.

The column is neither sortable nor groupable.

<Canvas of={menuButtonColumnStories.menuButtonColumn} />

## API

<Controls of={menuButtonColumnStories.menuButtonColumn} />
<ComponentApisLink />

## Usage

When using the <Tag name={tableColumnMenuButtonTag}/>, it is the client's responsibility to do the following:

1. Ensure that the menu has the correct items in it based on the record for which it was opened. This should be done by listening to the `menu-button-column-beforetoggle` event and updating the menu items when the `newState` is `true`.
2. Update the data through a `setData()` call when a menu item is activated in order to update the text on the menu button in the column.
