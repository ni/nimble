import { Canvas, Meta, Controls, Title, Description } from '@storybook/blocks';
import { columnOperationBehavior } from '../../base/tests/table-column-stories-utils';
import * as tableColumnIconStories from './table-column-icon.stories';
import * as iconMappingStories from '../../../mapping/icon/tests/mapping-icon.stories';
import * as spinnerMappingStories from '../../../mapping/spinner/tests/mapping-spinner.stories';
import { tableColumnIconTag } from '../';
import { tableTag } from '../../../table';
import { spinnerTag } from '../../../spinner';

<Meta of={tableColumnIconStories} />
<Title of={tableColumnIconStories} />

The <Tag name={tableColumnIconTag}/> column renders string, number, or boolean values as a Nimble icon or <Tag name={spinnerTag}/> in the <Tag name={tableTag}/>.

<p>{columnOperationBehavior}</p>

<Canvas of={tableColumnIconStories.iconColumn} />
<Controls of={tableColumnIconStories.iconColumn} />

## Usage

### Best Practices

-   Avoid mixing `undefined` and `null` as values for the same field. When grouping this will lead to two groups (one for `null` values and one for `undefined` values) that both have the text `"No value"`.
-   Avoid using values that do not correspond to a mapping for the column.
-   To display an empty cell but have a non-blank group row, create a mapping of the record value to an `undefined` icon.

### Blazor Usage

When setting a child mapping element's `Key` value to a string, you must wrap it in `@()` so that the compiler treats it as a string, e.g.
`<NimbleMappingIcon Key=@("foo") ...>`

## Icon Mapping

<Description of={iconMappingStories} />
<Controls of={iconMappingStories.iconMapping} />

## Spinner Mapping

<Description of={spinnerMappingStories} />
<Controls of={spinnerMappingStories.spinnerMapping} />
